{"componentChunkName":"component---src-templates-blog-post-js","path":"/200/","result":{"data":{"site":{"siteMetadata":{"title":"ToyCon's Blog"}},"markdownRemark":{"id":"85fbecde-da37-5dbf-8885-208f53251e7e","excerpt":"몽고db id에서 document가 작성된 시간을 확인하는 것은 성공했다. 그런데 그게 복잡하지 않은 과정이더라도 그 수가 늘어나면 매번 서버도 시간을 계산해야 하고 클라이언트도 시간을 계산하는 과정이 실행되서 비효율적이라는 것을 깨달았다. 그냥 몽고db…","html":"<p>몽고db id에서 document가 작성된 시간을 확인하는 것은 성공했다. 그런데 그게 복잡하지 않은 과정이더라도 그 수가 늘어나면 매번 서버도 시간을 계산해야 하고 클라이언트도 시간을 계산하는 과정이 실행되서 비효율적이라는 것을 깨달았다. 그냥 몽고db에 작성 시간을 별도로 입력하면 간편하게 처리가 가능하기 때문에 작성 시간을 추가로 저장하기로 했다.</p>\n<ol>\n<li>시간 꺼내는 코드</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getKST</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">postId</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>postId<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">16</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol start=\"2\">\n<li>몽고db document에서 시간 다루기\n<ul>\n<li>클라이언트 or 서버에서 new Date로 시간을 생성해서 몽고디비로 보내도 자동으로 ISODate 형식으로 저장</li>\n<li>줄루 타임이므로 +9시간 해주는 과정은 거쳐야 함</li>\n</ul>\n</li>\n<li>loading.js, error.js, not-found.js\n<ul>\n<li>로딩 인터페이스 넣을 때 loading.js, 같은 폴더 안에 넣으면 자동으로 적용</li>\n<li>app 폴더 바로 아래에 넣어주면 모든 페이지에 적용 가능, error.js, not-found.js도 동일</li>\n</ul>\n</li>\n</ol>","frontmatter":{"title":"TIL26","date":"July 14, 2023","description":"7월 14일 학습일지"}},"previous":{"fields":{"slug":"/199/"},"frontmatter":{"title":"TIL25"}},"next":null},"pageContext":{"id":"85fbecde-da37-5dbf-8885-208f53251e7e","previousPostId":"60134ce7-e5e6-57f5-bf7c-7ec5337b847b","nextPostId":null}},"staticQueryHashes":["2841359383","3257411868"],"slicesMap":{}}