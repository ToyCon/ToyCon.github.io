{"componentChunkName":"component---src-templates-blog-post-js","path":"/194/","result":{"data":{"site":{"siteMetadata":{"title":"ToyCon's Blog"}},"markdownRemark":{"id":"6353067a-8954-511b-b91b-f9f7fe8484a4","excerpt":"엊그제 npm run build 명령어로 배포 빌드 생성시 발생했던 오류와 해결 방법을 기록해둔다. 이런 오류 메시지가 뜨면서 빌드 중간에 멈추는 현상이 발생했다. 계속 검색을 하다가 답을 찾았다.\nhttps://github.com/vercel/next.js/discussions…","html":"<p>엊그제 npm run build 명령어로 배포 빌드 생성시 발생했던 오류와 해결 방법을 기록해둔다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">info  - Creating an optimized production build .ReferenceError: options is not defined\n    at 3599 (/home/hyeondeok/refresh/.next/server/app/edit/[postId]/page.js:334:75)\n    at __webpack_require__ (/home/hyeondeok/refresh/.next/server/webpack-runtime.js:25:42)\n    at 4218 (/home/hyeondeok/refresh/.next/server/app/edit/[postId]/page.js:250:72)\n    at Function.__webpack_require__ (/home/hyeondeok/refresh/.next/server/webpack-runtime.js:25:42)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async collectGenerateParams (/home/hyeondeok/refresh/node_modules/next/dist/build/utils.js:741:17)\n\n> Build error occurred\nError: Failed to collect page data for /edit/[postId]\n    at /home/hyeondeok/refresh/node_modules/next/dist/build/utils.js:1055:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\n  type: 'Error'\n}</code></pre></div>\n<p>이런 오류 메시지가 뜨면서 빌드 중간에 멈추는 현상이 발생했다. 계속 검색을 하다가 답을 찾았다.\n<a href=\"https://github.com/vercel/next.js/discussions/34249\">https://github.com/vercel/next.js/discussions/34249</a>\n이게 정답이었다. next.config.json 파일에 설정을 추가해주니 해결됐다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> nextConfig <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">experimental</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">appDir</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">//>>아래 코드 추가했음</span>\n  <span class=\"token literal-property property\">pageExtensions</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'page.tsx'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'page.ts'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'page.jsx'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'page.js'</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위의 깃허브 포럼에서 공식 문서 링크(<a href=\"https://nextjs.org/docs/pages/api-reference/next-config-js/pageExtensions#including-non-page-files-in-the-pages-directory\">https://nextjs.org/docs/pages/api-reference/next-config-js/pageExtensions#including-non-page-files-in-the-pages-directory</a>\n)를 연결해줬다. 테스트 관련 설정같은데 읽어보고 이 포스트에 내용을 추가하거나 새로 포스트를 작성해서 정리해둬야겠다.</p>","frontmatter":{"title":"Error: Failed to collect page data for","date":"June 30, 2023","description":"nextjs 'Build error occured'"}},"previous":{"fields":{"slug":"/193/"},"frontmatter":{"title":"TIL20"}},"next":null},"pageContext":{"id":"6353067a-8954-511b-b91b-f9f7fe8484a4","previousPostId":"cf501edf-2544-571f-bf88-436ff7e9030f","nextPostId":null}},"staticQueryHashes":["2841359383","3257411868"],"slicesMap":{}}